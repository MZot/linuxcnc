# General section -------------------------------------------------------------
[EMC]
VERSION =               $Revision$
MACHINE =               mill
#DEBUG =               0x7FFFFFFF
DEBUG = 0

# Sections for display options ------------------------------------------------
[DISPLAY]
DISPLAY = /home/cnc/LinuxCNC/promoccapy_master/promoccapy
LATHE = 0
MAX_FEED_OVERRIDE = 1.2
MIN_SPINDLE_OVERRIDE = 0.5
MAX_SPINDLE_OVERRIDE = 1.2

# required NativeCAM item :
NCAM_DIR = ncam

# required NativeCAM item :
PROGRAM_PREFIX = ncam/scripts/

# Cycle time, in milliseconds, that display will sleep between polls
CYCLE_TIME =            100

# Max and default jog speeds in units per second
MAX_LINEAR_VELOCITY =   1660
DEFAULT_LINEAR_VELOCITY = 5
MAX_ANGULAR_VELOCITY = 2340
# Initial display setting for position, COMMANDED or ACTUAL
POSITION_FEEDBACK = COMMANDED

# Prefix to be used
PROGRAM_PREFIX = /home/cnc/linuxcnc/nc_files
SUBROUTINE_PATH = sub

# Introductory graphic
INTRO_GRAPHIC = linuxcnc.gif
INTRO_TIME = 1

# list of selectable jog increments
INCREMENTS = 1.000 mm, 0.100 mm, 0.010 mm, 0.001 mm


[LUBE]

PATH_AXIS0 = 100
PATH_AXIS1 = 100
PATH_AXIS2 = 100
TIME       = 3

[FILTER]
PROGRAM_EXTENSION = .py Python Script
py = python
PROGRAM_EXTENSION = .xml NativeCAM Script

# Task controller section -----------------------------------------------------
[TASK]
TASK =                  milltask
CYCLE_TIME =            0.001


# Part program interpreter section --------------------------------------------
[RS274NGC]
RS274NGC_STARTUP_CODE = G17 G21 G40 G49 G54 G80 G90 G94 F100 M9 M5 G64 P0.01
PARAMETER_FILE = sim.var
SUBROUTINE_PATH = sub:ncam/lib/mill:ncam/lib/utilities
ON_ABORT_COMMAND=O <on_abort> call
FEATURES = 4


# Motion control section ------------------------------------------------------
[EMCMOT]
EMCMOT =              motmod
COMM_TIMEOUT =          1.0
COMM_WAIT =             0.010
BASE_PERIOD  =          600000
SERVO_PERIOD =          1000000

# Hardware Abstraction Layer section --------------------------------------------------
[HAL]
;TWOPASS = yes
HALFILE = core_sim.hal
HALFILE = spindle_sim.hal
HALFILE = axis_x.hal
HALFILE = axis_y.hal
HALFILE = axis_z.hal
HALFILE = 7i77_io.hal
HALFILE = whb04b.hal
HALFILE = loadrt_postgui.hal

# Single file that is executed after the GUI has started.
POSTGUI_HALFILE = postgui.hal

HALUI = halui

# Trajectory planner section --------------------------------------------------
[TRAJ]
AXES =             3
COORDINATES =      X Y Z
HOME =             0 0 0
LINEAR_UNITS =     mm
ANGULAR_UNITS =    degree
CYCLE_TIME =       0.010
DEFAULT_VELOCITY = 9.0
MAX_VELOCITY =     2340
POSITION_FILE =    position.txt
#NO_FORCE_HOMING = 1

#********************
# Axis X
#********************
[AXIS_0]
TYPE = LINEAR
MIN_LIMIT = -602
MAX_LIMIT = 14.0
MAX_VELOCITY = 50.0
MAX_ACCELERATION = 250.0
HOME = 5.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = 10
HOME_LATCH_VEL = -5
HOME_FINAL_VEL = 5
HOME_USE_INDEX = YES
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1
FERROR = 3.0
MIN_FERROR = 2.0
P = 4
I = 0
D = 0
FF0 = 0
FF1 = 0
FF2 = 0
BIAS = 0
DEADBAND = 0
MAX_OUTPUT = 0
ENCODER_SCALE = 2000
OUTPUT_SCALE = 10
OUTPUT_MIN_LIMIT = -10
OUTPUT_MAX_LIMIT = 10
BACKLASH=0.03


#********************
# Axis Y
#********************
[AXIS_1]
TYPE = LINEAR
MIN_LIMIT = -444.01
MAX_LIMIT = 30.0
MAX_VELOCITY = 50.0
MAX_ACCELERATION = 250.0
HOME = -5.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = 10
HOME_LATCH_VEL = -5
HOME_FINAL_VEL = 5
HOME_USE_INDEX = YES
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1
FERROR = 3.0
MIN_FERROR = 2.0
P = 4
I = 0
D = 0
FF0 = 0
FF1 = 0
FF2 = 0
BIAS = 0
DEADBAND = 0
MAX_OUTPUT = 0
ENCODER_SCALE = 2000
OUTPUT_SCALE = 10
OUTPUT_MIN_LIMIT = -10
OUTPUT_MAX_LIMIT = 10
BACKLASH=0.02



#********************
# Axis Z
#********************
[AXIS_2]
TYPE = LINEAR
MIN_LIMIT = 128.01
MAX_LIMIT = 467.0
MAX_VELOCITY = 50.0
MAX_ACCELERATION = 250.0
HOME = 430.0
HOME_OFFSET = 433.0
HOME_SEARCH_VEL = 10
HOME_LATCH_VEL = -5
HOME_FINAL_VEL = 5
HOME_USE_INDEX = YES
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 0
FERROR = 3.0
MIN_FERROR = 2.0
P = 4
I = 0
D = 0
FF0 = 0
FF1 = 0
FF2 = 0
BIAS = -0
DEADBAND = 0
MAX_OUTPUT = 0
ENCODER_SCALE = 2000
OUTPUT_SCALE = 10
OUTPUT_MIN_LIMIT = -10
OUTPUT_MAX_LIMIT = 10
TOOL_CHANGE_POS =               460


#********************
# Spindle
#********************
[SPINDLE]
GEAR_1_MAX = 350
GEAR_2_MIN = 340
GEAR_1_SCALE = 1.380
GEAR_2_SCALE = 0.296


# section for main IO controller parameters -----------------------------------
[EMCIO]
EMCIO = 		io
CYCLE_TIME =    0.100

# tool table file
TOOL_TABLE = tool.tbl


