<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0059)http://www.cnczone.com/forums/printthread.php?t=16630&pp=40 -->
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en" id="vbulletin_html"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

<!--<base href="http://www.cnczone.com/forums/">--><base href="."><!--[if IE]></base><![endif]-->
<meta name="generator" content="vBulletin 4.2.2">
<script type="text/javascript" async="" src="./New Control on Fanuc DC Servo_files/vglnk.js"></script><script type="text/javascript" async="" src="./New Control on Fanuc DC Servo_files/ga.js"></script><script async="" src="./New Control on Fanuc DC Servo_files/cloudflare.min.js"></script><script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok2v=1613a3a185/"},atok:"cbfa9aa1515d57b899f3d895b7c5e3d5",petok:"39a879a87a888bbd4fac25a9b6e56d2a271455fa-1415571107-1800",zone:"cnczone.com",rocket:"0",apps:{"abetterbrowser":{"ie":"8"},"ga_key":{"ua":"UA-383743-3","ga_bs":"2"}}}];CloudFlare.push({"apps":{"ape":"d151650cfb4e3c863b62f7a2261e3125"}});!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok2v=919620257c/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link rel="stylesheet" type="text/css" href="./New Control on Fanuc DC Servo_files/main-rollup.css">
<link rel="stylesheet" type="text/css" href="./New Control on Fanuc DC Servo_files/printthread.css">
<title> New Control on Fanuc DC Servo</title>
<link rel="stylesheet" type="text/css" href="./New Control on Fanuc DC Servo_files/additional.css">
<link rel="stylesheet" type="text/css" href="./New Control on Fanuc DC Servo_files/css.php">
<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-383743-3']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
<style type="text/css">.cf-hidden { display: none; } .cf-invisible { visibility: hidden; }</style></head>
<body>
<div class="above_body">
<div id="header" class="floatcontainer">
<div><a name="top" href="http://www.cnczone.com/forums/" class="logo-image"><img src="./New Control on Fanuc DC Servo_files/cnczone.png" alt="CNCzone.com- The Largest Forums for CNC Professional and Hobbyist alike!"></a></div>
</div>
</div>
<div class="body_wrapper">
<div id="pagetitle">
<h1><a href="http://www.cnczone.com/forums/servo-motors-drives/16630-new-control-fanuc-dc-servo.html">New Control on Fanuc DC Servo</a></h1>
<p class="description">Printable View</p>
</div>
<ul id="postlist">
<li class="postbit blockbody" id="post_1">
<div class="header">
<div class="datetime">01-18-2006, 03:38 PM</div>
<span class="username">LeRa</span>
</div>
<div class="title">New Control on Fanuc DC Servo</div>
<div class="content">
<blockquote class="restore">Hi all,<br>
<br>
I'm trying to make a multi-purpose X-Y-translation table from an old Matsuura milling-machine. It has a Fanuc-6MB controller.<br>
<br>
My goal is to change to a controller which I program with LabView. To do so I only need the X and Y servo motors and drives. They are the following:<br>
<br>
servo-motors: Gettys-Fanuc DC Servo Motor Model 20 (A06B-0602-B)<br>
servo-drives: (velocity control unit) A06B-6045-H005/H006<br>
PCB on servo-drives: A20B-007-0360/05A<br>
<br>
Does anyone have a schematic of the servo-drive (or PCB)?<br>
Or a pin-out of the CN1 (Honda) connector of the PCB?<br>
<br>
Any information that can help me is also appriciated.<br>
I'm hoping that a simple +/-10V signal is sufficient for driving the servo's (if only I knew which pins to use of the CN1 connector). All further IO (encoder/limit-switches) can directly go to the controller.<br>
<br>
Greetings,<br>
LeRa<br>
<br>
(.........who is quite new in the CNC-world)</blockquote>
</div>
</li><li class="postbit blockbody" id="post_2">
<div class="header">
<div class="datetime">01-18-2006, 08:47 PM</div>
<span class="username">NC Cams</span>
</div>
<div class="content">
<blockquote class="restore">See if you can find out if the 6 uses the same driver boards as the 5T or 5M. <br>
<br>
I'm pretty sure have the board schematics for the 5T/M.<br>
<br>
Ditto the pinouts for a 5T/M servo motor</blockquote>
</div>
</li><li class="postbit blockbody" id="post_3">
<div class="header">
<div class="datetime">01-18-2006, 11:10 PM</div>
<span class="username">Al_The_Man</span>
</div>
<div class="content">
<blockquote class="restore">I have the following for the 6m DC velocity unit (CN1)<br>
You may have to decode the mnemonics but some seem obvious.<br>
Pin<br>
1-PRDYA<br>
2-ENBLA<br>
3-OVLA<br>
4-*VRDYA<br>
5-<br>
6-<br>
7-VCMD (ANALOG COMMAND?)<br>
8-*ALM10<br>
9-*ALM11<br>
10-*ALM12<br>
11-<br>
12-<br>
13-*COM<br>
14-PRDYB<br>
15-ENBLB<br>
16-OVLB<br>
17-*VRDYB<br>
18-<br>
19-<br>
20-EC<br>
The (*) usually means the common or complement or active low.<br>
Al.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_4">
<div class="header">
<div class="datetime">01-19-2006, 10:33 AM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">@ NC Cams: You've got a private message (PM).<br>
<br>
@ All_the_man: Thanks. This pinout is a big step forward for me.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_5">
<div class="header">
<div class="datetime">01-19-2006, 03:22 PM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">In relation to this, I'd also like to know the pinout of the CAV-connector of the motherboard (A20B-0008-0410/09D) of the Fanuc 6Mb controller. This is the connector from the motherboard to the servo-drives (in my case X,Y and Z).<br>
<br>
Does anyone have this pinout?<br>
<br>
Furthermore, does anyone know where I can download documentation about the Fanuc 6M?<br>
<br>
Your help is appriciated.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_6">
<div class="header">
<div class="datetime">01-19-2006, 11:12 PM</div>
<span class="username">NC Cams</span>
</div>
<div class="content">
<blockquote class="restore">Sorry to report that the servo drive dwgs I have are A06C-6035-004 and 6.<br>
<br>
Don't know if they are same as the one you have.<br>
<br>
I located 8.5"x11" pinouts of the servo interconnect but, again, these are for 5T/M and the servo amp is NOT same P/N as yours. <br>
<br>
Sorry for the false hope.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_7">
<div class="header">
<div class="datetime">01-19-2006, 11:29 PM</div>
<span class="username">Al_The_Man</span>
</div>
<div class="content">
<blockquote class="restore">Again I only have the mnemonic labels for the CAV Honda.<br>
1-VCMBL(X)<br>
2-VCMDM(Y)<br>
3-VCMDN(Z)<br>
4-ECL(X)<br>
5-SGL<br>
6-<br>
7-<br>
8-<br>
9-<br>
10-VRDY(X)<br>
11-EIL(X)<br>
12-OVLL(X)<br>
13-E2L(X)<br>
14-<br>
15-<br>
16-PRDY(X)<br>
17-ENBLL(X)<br>
18-CRL(X)<br>
19-<br>
20-ECM(Y)<br>
21-SGM<br>
22--<br>
23-<br>
24-<br>
25-<br>
26-VRDYM(Y)<br>
27-E1M(Y)<br>
28-OVLM(Y)<br>
29-E2M(Y)<br>
30-PRDYM(Y)<br>
31-ENBLM(Y)<br>
32-CRM(Y)<br>
33-TSAL(X)<br>
34-TSAM(Y)<br>
35-TSAN(Z)<br>
36-ECN(Z)<br>
37-SGN<br>
38-<br>
39-<br>
40-<br>
41-<br>
42-VRDYN(Z)<br>
43-EIN(Z)<br>
44-OVLN(Z)<br>
45-E2N(Z)<br>
46-<br>
47-<br>
48-PRDYN(Z)<br>
49-ENBLN(Z)<br>
50-CRN(Z)<br>
<br>
Al.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_8">
<div class="header">
<div class="datetime">01-20-2006, 12:39 AM</div>
<span class="username">Dan Fritz</span>
</div>
<div class="title">Schematics</div>
<div class="content">
<blockquote class="restore">I've got Fanuc 6-A and 6-B schematics, but I'm pressed for time right now. I'll try to post the relavent servo interface pages from the 6-B mother board later tonight. There are a few reed relay contacts for PRDY and ENBL signals, then there's the analog output for the velocity command (VCMD) and the tach (TSA and TSB) to each servo.<br>
<br>
The Fanuc 20 servos used a 7volt/1000 rpm analog signal. The motor was only good for 1000-1500 rpm max, so a 10.5 volt analog velocity signal was all you need to drive them at max speed.<br>
<br>
On power-up, the mother board of the Fanuc 6 would close the PRDY contacts, then wait for the servo to reply with a VRDY (Velocity unit ready) contact closure. Once the CNC saw the VRDY signal from the servo unit, it would turn on the ENBL (enable) signal to enable the servo's SCRs and make the analog Velocity Command signal (VCMD) active. <br>
<br>
The TSAX and TSBX signals are the tach signals that the Fanuc mother board would create from the pulse coders. This is the only interface signal that might pose problems for you. The Fanuc 6 used a Frequency to Velocity converter (F/V) to take the pulses from the pulse coders and create a 6v per 1000 RPM tach signal for the servo. Some of these model 20 motors had tachs in them, which would solve you problem. You could just wire the tach from the motor directly to the servo at TSA and TSB. If your motors don't have tachs (just pulse coders inside), then you've got to provide a tach signal for the servo somehow. You may have to make your own F/V circuit or attach an aftermarket tach to the motor shaft.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_9">
<div class="header">
<div class="datetime">01-20-2006, 08:56 AM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">@ NC Cams: Thank you anyway (I've read your PM, I suppose I don't have to reply anymore :) )<br>
<br>
@ All_The_Man: Thanks again, for the CAV pinout.<br>
<br>
@ Dan Fritz: This is very helpfull to me, because that's what I was trying to figure out. A lot I already had, but those TSA and TSB signals were still a riddle for me. Now they are the main obstacles for connecting a custom controller.<br>
But one thing; TSA and TSB get 7V@1000rpm or 6V@1000rpm? And are these signals linear? ( If 7V@1000rpm then 10.5V@1500rpm and 3.5V@500rpm)<br>
<br>
Another important parameter is the number of pulses per rotation coming from the pulse-coder of the Fanuc Model 20 motor. Does anyone know this number?<br>
<br>
I'll let you know if it all works out for me.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_10">
<div class="header">
<div class="datetime">01-20-2006, 11:36 AM</div>
<span class="username">Dan Fritz</span>
</div>
<div class="attachments">2 Attachment(s)</div>
<div class="content">
<blockquote class="restore">The Fanuc motors came with both 2000 line/rev and 2500 line/rev encoders. You should see a tag on the motor with a "-2000" or "-2500" on it. Some motors came with tach generators under the end cap instead of an encoder. Those motors were used on machines that had separate encoders coupled to the ballscrews. Generally, if the motor drove the ballscrew with a belt drive of some kind, the machine builders would use a separate encoder and a motor with a tach. If the motor drove the ballscrew with a direct coupling, they would generally use the motors with built-in encoders.<br>
<br>
If the motor had a tach, then the tach signals TSA and TSB were routed to the CNC control through a separate cable (not the cable with the armature power leads). On the Fanuc mother board, those signals were then just routed back out the CAV connector to the servo amplifier. If a tach did not exist in the motor, the pulse coder signals were routed to the interpolator ICs first, then to a black square hybrid IC (A-PC06), where it was turned into a tach signal. The PC06 chip is a custom Fanuc chip, so you won't find it anywhere else. There are jumpers on the Fanuc mother board to determine if the pulse coder is 2000 or 2500 line. Another jumper selects between an "external" tach and the PC06 F/V converter output.<br>
<br>
The tach signals for the Fanuc 20 servos was typically 6v/1000 rpm and the VCMD was 7v/1000rpm. <br>
<br>
The encoders came in these two sizes to accomodate the different ballscrew pitches on the machines. A ballscrew with a pitch of .200 inch, .400 inch, 6mm, 8mm, etc. will use a 2000 line encoder. A ballscrew with a pitch of .250 inch, 5mm, 10mm, etc. will use a 2500 line encoder. This is so they could use a simple multiplier to make the "detect unit" an even increment, like .0001 inch or .001 mm/pulse<br>
<br>
Attached are scans of two schematic pages. One is for the relay interface on the CAV connector, the other is for the PC06 F/V converter IC. These scans had to be "sampled down" to less than 1024 pixes horizontally to be legal for this forum, so if you can't read them I can send you higher res scans by private e-mail.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_11">
<div class="header">
<div class="datetime">01-20-2006, 12:07 PM</div>
<span class="username">HillBilly</span>
</div>
<div class="content">
<blockquote class="restore">Good info Dan.<br>
<br>
I have used this product to replace the Fanuc F/V converter on these systems.<br>
<br>
[url]http://www.usdigital.com/products/etach2/[/url]<br>
<br>
This is a good source for tachometers.<br>
<br>
[url]http://www.servotek.com/[/url]<br>
<br>
Darek Ashburn</blockquote>
</div>
</li><li class="postbit blockbody" id="post_12">
<div class="header">
<div class="datetime">01-20-2006, 01:28 PM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">A small question (with hopefully a small answer):<br>
<br>
Those analog signals (VCMD and TSA) can be positive and negative for bothe directions?</blockquote>
</div>
</li><li class="postbit blockbody" id="post_13">
<div class="header">
<div class="datetime">01-20-2006, 06:51 PM</div>
<span class="username">Dan Fritz</span>
</div>
<div class="title">Polarity</div>
<div class="content">
<blockquote class="restore">Yep. The VCMD signal is zero volts when the servo is not moving, minus 7 volts when the motor is running 1000 rpm in reverse, and plus 7 volts when it's running 1000 rpm forward.<br>
<br>
The Tach is also + or - polarity, with zero volts being the feedback from a motor that's not turning.<br>
<br>
The servo amplifier takes the VCMD signal, compares it to the tach signal, and tries to make the motor run at the commanded speed. The tach signal is the only way the amplifier "knows" how fast the motor is actually turning. If the tach signal is disconnected, the motor will "run away" as the amplifier tries to make it run faster. This is called the "velocity loop", and it is controlled by the servo amplifier board. The "Gain" of the velocity loop is adjusted with the "Gain" pot on the servo board (RV3, I think), and the "Offset" is set with RV2. If you run the servo in "open loop", with a battery box generating the VCMD signal and with the motor running freely, you should be able to make the motor run at 0 rpm with a 0V VCMD signal, and 1000 rpm with a 7v VCMD signal. Use RV2 to get 0 rpm, and RV3 to get your 1000 rpm.<br>
<br>
The CNC compares the actual (pulse coder) postion of the axis and compares that with it's own internal registers (where it wants the axis to be at that moment). If the axis is "right on" position, the VCMD signal should be zero volts. If it's out of position a bit in the negative direction, the VCMD will be positive (proportional to the position error). The more the axis is out of position, the higher the VCMD voltage and the faster the motor should run to get it back into position. It's normal to see the VCMD signal "dither" a bit as the axis hunts around it's target postion. This is called the "postion loop". The "gain" of the position loop for each axis is controlled by CNC parameters in the Fanuc 6 control. This "gain" determines the voltage of the VCMD signal for each unit of postion error. Finding the best position loop gain for each axis can be complicated, but it's necessary to get X and Y the same, otherwise you won't be able to circular interpolate a true circle. The easiest way to adjust the gain is to use the CNC to "dial in" a bit of position error with the servo fuses removed. The VCMD signal for each axis should be the same with the same amount of error. If your axes have different ratios between the motor rotation and the linear motion (ballscrew pitch, belt ratios, etc.) then your computations are more complicated because the motors must move at different speeds at the same position error value. The idea is to make the LINEAR speed of each axis the same for each unit of positon error.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_14">
<div class="header">
<div class="datetime">01-21-2006, 02:30 AM</div>
<span class="username">NC Cams</span>
</div>
<div class="content">
<blockquote class="restore">These are p/o's of my Fanuc servo's (dual MS connectors)<br>
<br>
Standard connection (+ move gives CCW rotation facing drive end):<br>
4 pin power:<br>
5 = A1AX<br>
6 = A1BX<br>
7 = A2AX<br>
8 = B2BX<br>
<br>
5+6 are tied together inside motor as are 7+8<br>
<br>
A=PCAX<br>
B=PCBX<br>
C=+5V<br>
D=*PCAX<br>
E=*PCBX<br>
F=PCZX<br>
G=*PCZX<br>
H= 0G <br>
J &amp; K = +5V<br>
N &amp; P = 0V<br>
R=0H1X<br>
S=0H2X<br>
T=0V<br>
<br>
Reverse connection (+ move gives CW rotation facing drive end)<br>
7 = A1AX<br>
8 = A1BX<br>
5 = A2AX<br>
6 = B2BX<br>
<br>
5+6 are tied together inside motor as are 7+8<br>
<br>
A=PCBX<br>
B=PCAX<br>
C=+5V<br>
D=*PCBX<br>
E=*PCAX<br>
F=PCZX<br>
G=*PCZX<br>
H= 0G <br>
J &amp; K = +5V<br>
N &amp; P = 0V<br>
R=0H1X<br>
S=0H2X<br>
T=0V<br>
<br>
I have more available but need to know if it is model 5, 10, 20, 30 etc servo and if it has brake or not.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_15">
<div class="header">
<div class="datetime">01-23-2006, 09:31 AM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">Thanks for all the info.<br>
Wow this is truly one of the few usefull forums on the i-net.<br>
<br>
@ NC Cams: I do have some diagrams (for model 10 and 20 servo's) and I can confirm your pin-outs. :) <br>
<br>
@ Dan Fritz: Your tuning-tips will become very helpfull. On my board RV1 is the gain and RV2 is the offset.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_16">
<div class="header">
<div class="datetime">04-03-2006, 04:49 PM</div>
<span class="username">LeRa</span>
</div>
<div class="title">Velocity Loop</div>
<div class="content">
<blockquote class="restore">Hello,<br>
<br>
It has been while, but now i'm ready for the most important part. Trying to close the velocity loop.<br>
<br>
@ Dan: <br>
Can you tell me how to set the board to test "open loop"? Because the board just shuts down (a TGLS-LED will light up), when i disconnect the TSA. When I connect zero volt it will shut down too.<br>
Uptill now I could not control the motor, with the velocity-loop closed, only by turning the off-set (RV2) i could change the motor-direction, but it doesn't matter which voltage is on the VCMD. The motor is not mounted to a table so it doesn't have to deliver a lot of torque.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_17">
<div class="header">
<div class="datetime">04-03-2006, 06:57 PM</div>
<span class="username">Al_The_Man</span>
</div>
<div class="content">
<blockquote class="restore">You are going to want to keep the Tach connected otherwise you will get the tach loss signal, Normally if the analogue input is zero and the tach to input is phased right, and all the enables are made, turning the shaft should resist movement, and try and stay stationary, if the motor runs away, it would indicate the tach requires reversing. If no resistance is felt then it would seem the drive is not active for some reason. Also with the analogue input kept at zero the offset would be adjusted for zero drift.<br>
Al.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_18">
<div class="header">
<div class="datetime">04-04-2006, 09:53 AM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">Thanks Al<br>
<br>
I did change the tach-direction, but now the motor vibrates as soon as I enable the VCMD signal (0 Volt). A red OVC-LED lights up and the motor stops. Is this an overload or something?<br>
When I apply a 2 Volt VCMD the motor will turn while vibrating and with -2 Volt turn the other way while vibrating. All during a second when it shuts down due to the OVC-LED.<br>
How can I stop the motor vibrating at hold?<br>
<br>
[SIZE=1]Most progress goes in small steps[/SIZE] :)</blockquote>
</div>
</li><li class="postbit blockbody" id="post_19">
<div class="header">
<div class="datetime">04-04-2006, 02:57 PM</div>
<span class="username">Al_The_Man</span>
</div>
<div class="content">
<blockquote class="restore">Often severe vibration when stopped is too high a gain (tuning).<br>
Al.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_20">
<div class="header">
<div class="datetime">04-04-2006, 04:47 PM</div>
<span class="username">HillBilly</span>
</div>
<div class="content">
<blockquote class="restore">If you have the motor removed from the load this is typical. Note where your gain is before adjusting, it will probably need to be returned close to there when reinstalled.<br>
<br>
Darek</blockquote>
</div>
</li><li class="postbit blockbody" id="post_21">
<div class="header">
<div class="datetime">04-06-2006, 01:26 PM</div>
<span class="username">LeRa</span>
</div>
<div class="title">I've closed the velocity-loop!</div>
<div class="content">
<blockquote class="restore">Thanks for all the replies, they have been really helpfull.<br>
<br>
I got hold of some more detaild schematics of a slightly different (i think newer) type of velocity unit for Fanuc 6M. These helped me understand more of the meaning of the potentio-meters.<br>
<br>
The biggest problem was the TSA-signal, which wasn't what the velocity-unit was used to (I use the USdigital unit for the tacho-signal that HillBilly sugested). But setting some (DIP-)switches on the velocity-unit cured that problem. The tacho had too much influence.<br>
Furthermore some potmeters for the firing-circuit weren't set right. And tweaking some minor things helped smoothning the ride.<br>
<br>
Now I go for the next step; closing the position-loop.<br>
I'll let you know if that works out. :)</blockquote>
</div>
</li><li class="postbit blockbody" id="post_22">
<div class="header">
<div class="datetime">05-03-2006, 04:16 PM</div>
<span class="username">LeRa</span>
</div>
<div class="title">It works !!!!!!!!</div>
<div class="content">
<blockquote class="restore">Using a motion controller from National Instruments (the 735x-series), I closed the position-loop.<br>
<br>
It took some time to figure out all the possible directions (for limit switches, velocity-feedback, position-feedback and more) but now it works fine. Only some minor tweaking has to take place for a completely smooth movement.<br>
<br>
Thanks again for all the replies. :)</blockquote>
</div>
</li><li class="postbit blockbody" id="post_23">
<div class="header">
<div class="datetime">05-05-2006, 02:12 PM</div>
<span class="username">HillBilly</span>
</div>
<div class="content">
<blockquote class="restore">LeRa,<br>
<br>
This is interesting, A couple of questions.<br>
Are you inputing step and direction commands for position?<br>
Are you only dealing with P gain in the position controller?<br>
<br>
Darek</blockquote>
</div>
</li><li class="postbit blockbody" id="post_24">
<div class="header">
<div class="datetime">05-08-2006, 09:06 AM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">Darek,<br>
<br>
No, i'm dealing with a servo (not a stepper-motor) so my input is 'number of counts to move'. The feedback to the controller is the encoder of the motor, maybe in a later stadium I'll incorporate another encoder for position-feedback.<br>
<br>
The controller is a full PID-controller, but i'm only using the P- and D-gains.<br>
<br>
LeRa</blockquote>
</div>
</li><li class="postbit blockbody" id="post_25">
<div class="header">
<div class="datetime">02-21-2007, 03:09 AM</div>
<span class="username">precourt</span>
</div>
<div class="content">
<blockquote class="restore">So how everithing turned out?<br>
<br>
I will use a GAlil motion card for controling the same servo drive and the same motors.<br>
<br>
I will also use the US Digital Etach2 for TSA.<br>
<br>
<br>
Any comments would be welcomed.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_26">
<div class="header">
<div class="datetime">02-21-2007, 11:45 AM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">Precourt,<br>
<br>
Now everything is operating. I had to compromise the max speed and acceleration (and of course deceleration) for a more smooth run, but that's all due to the wear of the complete machine.<br>
I did use a Heidenhain position-feedback for both axes for the controller instead of the encoders of the motors, also because of the small wear of the machine itself.<br>
Closing the velocity-loop with the drive was not simple but after some fiddling with the potentiometers I got a fairly smooth movement.<br>
The PID or better PIV values of the controller took also some time to optimize. I do think you will not have any troubles doing the same with the Galil-controller. (I do have some experience with them also)<br>
The US Digital Etach2's (connected to the encoders of the motor's) were set to 63kHz, which is a value you can use if you have the same motor's (with the same max rpm's).<br>
<br>
Good luck,<br>
LeRa</blockquote>
</div>
</li><li class="postbit blockbody" id="post_27">
<div class="header">
<div class="datetime">03-30-2007, 10:58 PM</div>
<span class="username">precourt</span>
</div>
<div class="title">Ok Now it vibrate</div>
<div class="content">
<blockquote class="restore">My motor does vibrate without load If I let it vibrate a bit too long I kept blowing fuse on one phase.<br>
<br>
I know that this drive was woking very well on the Fanuc systems.<br>
<br>
<br>
This appen even if I set the gain very low.<br>
<br>
You say that you adjusted the firing timing adjust pot could you explain more what you ve done.<br>
<br>
Also any insight could be good.<br>
<br>
<br>
Regard<br>
<br>
Erik</blockquote>
</div>
</li><li class="postbit blockbody" id="post_28">
<div class="header">
<div class="datetime">04-01-2007, 04:12 AM</div>
<span class="username">precourt</span>
</div>
<div class="title">Fanuc amps and Camsoft/Galil</div>
<div class="content">
<blockquote class="restore">[QUOTE=LeRa;151639]Thanks for all the replies, they have been really helpfull.<br>
<br>
I got hold of some more detaild schematics of a slightly different (i think newer) type of velocity unit for Fanuc 6M. These helped me understand more of the meaning of the potentio-meters.<br>
<br>
The biggest problem was the TSA-signal, which wasn't what the velocity-unit was used to (I use the USdigital unit for the tacho-signal that HillBilly sugested). But setting some (DIP-)switches on the velocity-unit cured that problem. The tacho had too much influence.<br>
Furthermore some potmeters for the firing-circuit weren't set right. And tweaking some minor things helped smoothning the ride.<br>
<br>
Now I go for the next step; closing the position-loop.<br>
I'll let you know if that works out. :)[/QUOTE]<br>
<br>
I am interested in some more explanation on this.<br>
<br>
I do use the axact same setup US digital and Fanuc 6m 20 series motor and drive.<br>
<br>
SO far the motor stand still but do vibrate.<br>
Any adjustement didnt make nothing better.<br>
<br>
If anybody have some way to help.<br>
<br>
Thanks</blockquote>
</div>
</li><li class="postbit blockbody" id="post_29">
<div class="header">
<div class="datetime">04-02-2007, 11:38 PM</div>
<span class="username">Al_The_Man</span>
</div>
<div class="content">
<blockquote class="restore">[QUOTE=precourt;279474]I am interested in some more explanation on this.<br>
I do use the axact same setup US digital and Fanuc 6m 20 series motor and drive.<br>
SO far the motor stand still but do vibrate.<br>
Any adjustement didnt make nothing better.<br>
[/QUOTE]<br>
<br>
Is this just the velocity loop (the controller not connected)?<br>
This should be stable first, before closing the controller/position loop.<br>
Al.</blockquote>
</div>
</li><li class="postbit blockbody" id="post_30">
<div class="header">
<div class="datetime">04-03-2007, 05:09 AM</div>
<span class="username">precourt</span>
</div>
<div class="content">
<blockquote class="restore">Yes the controler disconnected with 0Volts on VCMD and US digital tach signal on TSA. <br>
<br>
<br>
Erik</blockquote>
</div>
</li><li class="postbit blockbody" id="post_31">
<div class="header">
<div class="datetime">04-03-2007, 10:01 AM</div>
<span class="username">LeRa</span>
</div>
<div class="content">
<blockquote class="restore">Precourt,<br>
<br>
If you haven't already turned the potmeters concerning the firing if the IGBT's on the drive's, then it is best to leave them where they are, because these are not different using the original Fanuc-controller. If you have, then you should use an oscillosope and try to make the firing-length for every phase the same. That is zero with 0 volt applied and same lengths when a low constant voltage (be carefull not to run into any limits) applied. Right now I do not know which exact potmeters, but they are designated A,B and C I think.<br>
<br>
Something else you can try is turning down the dither potmeter.<br>
<br>
Good luck,<br>
<br>
LeRa</blockquote>
</div>
</li><li class="postbit blockbody" id="post_32">
<div class="header">
<div class="datetime">09-19-2008, 09:12 PM</div>
<span class="username">maquiza</span>
</div>
<div class="content">
<blockquote class="restore">LeRa,<br>
<br>
Hello, Do you think that you can use a 7V/1000 rpm tachometer, instead of the 6V/1000 rpm, adjusting the RV1 gain and RV2 offset on the velocity drive? <br>
Thanks,<br>
<br>
Jorge</blockquote>
</div>
</li><li class="postbit blockbody" id="post_33">
<div class="header">
<div class="datetime">10-16-2008, 08:13 AM</div>
<span class="username">pateltechnomati</span>
</div>
<div class="content">
<blockquote class="restore">hi<br>
i personally want to thank you for your details.<br>
i have one question for fanuc 5,6,7,9 etc..<br>
1-if motor dont have tacho gen. in fanuc dc servo and if all velocity controller works fine and i want to change cnc controller like fagor ..siemens...which can interface analog drives and ...<br>
2-can i use same motherboard of fanuc to generate tacho for all axis drive and if i supply analog direct to cav connetor and rest of signal to cav ?<br>
3-how fanuc mother board generate tacho signal?(i checked that there are three big ic named fanuc pos 9748 which is for x,y,z axis in 6m mother board and pin number 14 and 15 is encoder input and 12 ,13 is input signal for pc06 pin number 3 and 5 i found this from your diagram)<br>
4-can i generate tacho without any card on mother board?<br>
5-which type of signal accept by pc06 on its pin number 3 and 5<br>
6-i found that big ic fanuc pos 9748 is generate output at pin 12 and 13 when cnc works fine but if cnc in emergency state it will not generate tacho signal if we rotate motor with hand .<br>
<br>
can you give me detailed idea how i can generate tacho using fanuc mother board <br>
<br>
one more question<br>
<br>
can i use this encoder signal for feedback to other controller if tacho works with your suggetion...<br>
<br>
thanks in advance</blockquote>
</div>
</li>
</ul>
</div>
<div class="below_body">
<div id="footer_time" class="footer_time">All times are GMT +1. The time now is <span class="time">11:11 PM</span>.</div>
<div id="footer_copyright" class="footer_copyright">
 
Powered by <a rel="nofollow" href="https://www.vbulletin.com/" id="vbulletinlink">vBulletin®</a> Version 4.2.2 <br>Copyright © 2014 vBulletin Solutions, Inc. All rights reserved.
 
</div>
<div id="footer_morecopyright" class="footer_morecopyright">
 
 
Search Engine Optimisation provided by
<a rel="nofollow" href="http://www.dragonbyte-tech.com/vbecommerce.php?productid=303&do=product&utm_source=cnczone.com&utm_campaign=Footer%2BLinks&utm_medium=DragonByte%2BSEO&utm_content=Pro" target="_blank">DragonByte SEO v1.3.0 (Pro)</a> -
<a rel="nofollow" href="http://www.dragonbyte-tech.com/?utm_source=cnczone.com&utm_campaign=Footer%2BLinks&utm_medium=DragonByte%2BSEO&utm_content=Pro" target="_blank">vBulletin Mods &amp; Addons</a> Copyright © 2014 DragonByte Technologies Ltd.<br>vBulletin Optimisation provided by
<a rel="nofollow" href="http://www.dragonbyte-tech.com/vbecommerce.php?productid=1&do=product&utm_source=cnczone.com&utm_campaign=Footer%2BLinks&utm_medium=vB%2BOptimise&utm_content=%20(Pro)" target="_blank">vB Optimise (Pro)</a> -
<a rel="nofollow" href="http://www.dragonbyte-tech.com/?utm_source=cnczone.com&utm_campaign=Footer%2BLinks&utm_medium=vB%2BOptimise&utm_content=%20(Pro)" target="_blank">vBulletin Mods &amp; Addons</a> Copyright © 2014 DragonByte Technologies Ltd.<br>vBulletin Security provided by
<a rel="nofollow" href="http://www.dragonbyte-tech.com/vbecommerce.php?productid=123&do=product&utm_source=cnczone.com&utm_campaign=Footer%2BLinks&utm_medium=vBSecurity&utm_content=Lite" target="_blank">vBSecurity v1.1.2 (Lite)</a> -
<a rel="nofollow" href="http://www.dragonbyte-tech.com/?utm_source=cnczone.com&utm_campaign=Footer%2BLinks&utm_medium=vBSecurity&utm_content=Lite" target="_blank">vBulletin Mods &amp; Addons</a> Copyright © 2014 DragonByte Technologies Ltd. Runs best on <a rel="nofollow" href="http://www.hivelocity.net/?utm_source=Iain%2BKidd&utm_medium=back%2Blink&utm_term=Dedicated%2BServer%2BSponsor&utm_campaign=Back%2BLinks%2Bfrom%2BIain%2BKidd" target="_blank">HiVelocity Hosting</a>.<br>CNCzone,LLC Copyright ©2014<br>Powered by <a rel="nofollow" href="http://vbsocial.com/" target="_blank">vBSocial Easy Register</a>
</div>
</div>
 
<script type="text/javascript">
        var vglnk = { api_url: '//api.viglink.com/api',
                      key: '8fc203c6d53cfcf639464b616dec43af' };

        (function(d, t) {
          var s = d.createElement(t); s.type = 'text/javascript'; s.async = true;
          s.src = ('https:' == document.location.protocol ? vglnk.api_url :
                   '//cdn.viglink.com/api') + '/vglnk.js';
          var r = d.getElementsByTagName(t)[0]; r.parentNode.insertBefore(s, r);
        }(document, 'script'));
      </script>
 

</body></html>